% latex macro to create task boxes
\usepackage{comment, geometry, listings}
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable}

\newgeometry{margin=1in}

\definecolor{exeterdarkgreen}{HTML}{003c3c}
\definecolor{exeterdeepgreen}{HTML}{007d69}

\definecolor{taskCol}{HTML}{404040}
\definecolor{solCol}{HTML}{808080}
\definecolor{infoCol}{HTML}{007d69}

\tcbset{colback=white,colframe=taskCol,arc=0mm}

%trick to fool markdown into compiling
\newcommand{\bblockT}[2][Task]{\begin{tcolorbox}[title = #1 #2, parbox = false]}
\newcommand{\eblockT}{\end{tcolorbox}}
\newcommand{\bblockS}[2][Solution]{\begin{tcolorbox}[title = #1 #2, colframe=solCol, breakable, parbox = false]}
\newcommand{\eblockS}{\end{tcolorbox}}
\newcommand{\bblockI}[1][Info]{\begin{tcolorbox}[title = #1, colframe=infoCol, parbox = false, breakable]}
\newcommand{\eblockI}{\end{tcolorbox}}
\newcommand{\bblockINT}{\begin{tcolorbox}[colframe=infoCol, parbox = false, breakable]}
\newcommand{\eblockINT}{\end{tcolorbox}}

%add tabbed solutions environment
\newcommand{\bmp}{\begin{tcbraster}[raster columns = 2, raster valign = top]}
\newcommand{\emp}{\end{tcbraster}}
\newcommand{\bblockST}[1]{\begin{tcolorbox}[title = #1, colframe=solCol, breakable, parbox = false]}
\newcommand{\eblockST}{\end{tcolorbox}}

%hypertarget
\newcommand{\htarget}[1]{\hypertarget{#1}}

%set solution button link
\usepackage{tikz}

\newcommand{\buttonT}[1]{
    \begin{tikzpicture}
    \node[
        inner sep=5pt,
        draw=taskCol,
        fill=taskCol,
        rounded corners=2pt,
        text=white
    ] (c1) {#1};
    \end{tikzpicture}
}

\newcommand{\buttonS}[1]{
    \begin{tikzpicture}
    \node[
        inner sep=5pt,
        draw=solCol,
        fill=solCol,
        rounded corners=2pt,
        text=white
    ] (c1) {#1};
    \end{tikzpicture}
}

\newcommand{\buttonI}[1]{
    \begin{tikzpicture}
    \node[
        inner sep=5pt,
        draw=infoCol,
        fill=infoCol,
        rounded corners=2pt,
        text=white
    ] (c1) {#1};
    \end{tikzpicture}
}

\newcommand{\colpageref}[1]{\hypersetup{linkcolor=white}\pageref{#1}}

\usepackage{listings}
\lstset{
  basicstyle=\ttfamily,
  columns=fullflexible,
  frame=single,
  breaklines=true
}

% fonts
\usepackage[sfdefault,light]{FiraSans}
%\usepackage{FiraMono}

% colour of code chunks
\colorlet{shadecolor}{gray!15}

% set up logo on title page
\usepackage{titling}
\pretitle{\begin{center}
\includegraphics[width = 0.4\textwidth]{_colour_logo_vector.pdf}\LARGE\\\vspace{2\baselineskip}}
\posttitle{\end{center}}

\hypersetup{colorlinks,linkcolor=exeterdeepgreen,urlcolor=exeterdeepgreen,citecolor=exeterdeepgreen}
